/*! Premise-Wp 2015-08-10 */
function premiseMinicolors(){"function"==typeof jQuery().minicolors&&jQuery(".field > .color > input.premise-minicolors").minicolors()}function premiseSameHeight(a){a=a||".premise-same-height";var b,c=0,d=jQuery(a).each(function(){if(b)return!1;if(b=jQuery(this).attr("data-height"))return c=b,!1;var a=jQuery(this).outerHeight();a>c&&(c=a)}),e=jQuery(a).css("min-height",c);return jQuery.when(d).done(e),!1}function premiseUploadFile(a){a="undefined"!=typeof a?jQuery(a):null;var b=jQuery(".field .file .premise-file-url");return b.removeClass("insert-img"),a.siblings(".premise-file-url").addClass("insert-img"),premiseFileUploader?void premiseFileUploader.open():(premiseFileUploader=wp.media.frames.file_frame=wp.media({title:"Choose File",button:{text:"Insert File"},multiple:!1}),premiseFileUploader.on("select",function(){attachment=premiseFileUploader.state().get("selection").first().toJSON(),jQuery(".insert-img").val(attachment.url)}),void premiseFileUploader.open())}function premiseRemoveFile(a){return a=jQuery(a)||jQuery(".field .file .premise-btn-remove"),a.siblings(".premise-file-url").val(""),!1}function tfwkChooseIcon(a){var a=jQuery(a);return a.siblings(".fa-all-icons").slideToggle("fast"),tfwkSelectIcon(),!1}function premiseChooseIcon(){jQuery(document).on("click",".fa-all-icons a.this-icon",function(){var a=jQuery(this).attr("data-icon"),b=jQuery(this).parents(".fa-icon").find(".premise-insert-icon");b.val(a)})}function premiseRemoveIcon(a){var a=jQuery(a);return a.siblings(".premise-insert-icon").val(""),a.siblings(".fa-all-icons").is(":visible")&&a.siblings(".fa-all-icons").hide("fast"),!1}function premiseFilterIcons(a){var b=jQuery(a).val(),c=new RegExp(b,"i");b&&""!=b?(jQuery(a).siblings(".fa-all-icons").show("fast"),jQuery(".this-icon").parent("li").hide(),jQuery(".this-icon").each(function(){jQuery(this).attr("data-icon").search(c)>0&&jQuery(this).parent("li").show()})):(jQuery(".this-icon").parent("li").show(),jQuery(a).siblings(".fa-all-icons").hide("fast"))}function premiseSelectBackground(a){a="object"==typeof a?jQuery(a):null,console.log(a);var b=jQuery(a).val(),c=a.parents(".premise-background-select").find(".premise-background").fadeOut("fast"),d=a.parents(".premise-background-select").find(".premise-"+b+"-background").fadeIn("fast");return jQuery.when(c).done(d),!1}function premiseSetConformingHeight(a,b){a.data("originalHeight",void 0==a.data("originalHeight")?a.height():a.data("originalHeight")),a.height(b)}function premiseGetOriginalHeight(a){return void 0==a.data("originalHeight")?a.height():a.data("originalHeight")}function premiseColumnConform(){var a=jQuery;a("#page-wrap > div").each(function(){var b=a(this),c=b.position().top;if(premiseCurrentRowStart!=c){for(currentDiv=0;currentDiv<premiseRowDivs.length;currentDiv++)premiseSetConformingHeight(premiseRowDivs[currentDiv],premiseCurrentTallest);premiseRowDivs.length=0,premiseCurrentRowStart=c,premiseCurrentTallest=premiseGetOriginalHeight(b),premiseRowDivs.push(b)}else premiseRowDivs.push(b),premiseCurrentTallest=premiseCurrentTallest<premiseGetOriginalHeight(b)?premiseGetOriginalHeight(b):premiseCurrentTallest;for(currentDiv=0;currentDiv<premiseRowDivs.length;currentDiv++)premiseSetConformingHeight(premiseRowDivs[currentDiv],premiseCurrentTallest)})}function premisePopup(a,b){event.preventDefault(),a="undefined"!=typeof a?jQuery(a):null,b="undefined"!=typeof b?b:"";var c=a.attr("href"),d=jQuery("#premise-ajax-loading"),e=jQuery("#premise-ajax-overlay"),f=jQuery("#premise-ajax-dialog"),g=jQuery("#premise-ajax-close");e.fadeIn("fast"),d.fadeIn("fast"),g.fadeIn("fast"),c=c+" "+b,f.load(c,function(){f.fadeIn("fast"),d.fadeOut("fast")})}function premiseAjaxClose(){var a=jQuery("#premise-ajax-loading"),b=jQuery("#premise-ajax-overlay"),c=jQuery("#premise-ajax-dialog"),d=jQuery("#premise-ajax-close");return a.fadeOut(" fast"),b.fadeOut(" fast"),c.fadeOut(" fast"),d.fadeOut(" fast"),c.empty(),!1}function premiseAddToOPN(){var a,b=jQuery("#premise_add_post_to_one_page"),c=jQuery("span.ajax-response"),d=jQuery("#premise_post_title").val(),e=jQuery("#premise_post_url").val(),f=jQuery("#premise_post_object_id").val(),g=jQuery("#premise_post_object").val();a=b.prop("checked")?{action:"premise_update_this_post",premise_add_post_to_one_page:"1",premise_post_title:d,premise_post_url:e,premise_post_object_id:f,premise_post_object:g}:{action:"premise_update_this_post",premise_add_post_to_one_page:"0",premise_post_object_id:f,premise_post_object:g},c.html('<i class="fa fa-fw fa-spin fa-spinner"></i>'),jQuery.post(ajaxurl,a,function(a){a=jQuery.parseJSON(a),c.html(a.message)})}var PremiseField={faShowIconsBtn:null,faHideIconsBtn:null,init:function(){this.faShowIconsBtn=jQuery(".premise-field-fa_icon .premise-choose-icon"),this.faHideIconsBtn=jQuery(".premise-field-fa_icon .premise-remove-icon"),this.bindEvents(),jQuery(document).trigger("premiseFieldAfterInit",this)},bindEvents:function(){this.faShowIconsBtn.click(this.showIcons),this.faHideIconsBtn.click(function(){jQuery(this).parents(".premise-field").find("input.premise-fa_icon").val(""),PremiseField.hideIcons})},showIcons:function(){var a=PremiseField.faShowIconsBtn.parents(".premise-field"),b=a.find(".premise-field-fa-icons-container");return jQuery(b).show("fast"),jQuery(document).trigger("premiseFieldAfterFaIconsOpen",b,a),jQuery(document).on("click",".premise-field-fa-icon-anchor",PremiseField.insertIcon),jQuery(document).on("click","body",PremiseField.hideIcons),!1},hideIcons:function(){var a=PremiseField.faHideIconsBtn.parents(".premise-field"),b=a.find(".premise-field-fa-icons-container");return jQuery(b).hide("fast"),jQuery(document).trigger("premiseFieldAfterFaIconsClose",b,a),PremiseField.bindEvents(),!1},insertIcon:function(){var a=jQuery(this).attr("data-icon");jQuery(this).parents(".premise-field").find("input.premise-fa_icon").val(a),jQuery("body").trigger("click")}};jQuery(function(a){PremiseField.init(),premiseSameHeight(),premiseMinicolors(),a(window).resize(function(){premiseColumnConform()}),a(window).load(function(){premiseColumnConform()})});var premiseFileUploader,premiseCurrentTallest=0,premiseCurrentRowStart=0,premiseRowDivs=new Array;